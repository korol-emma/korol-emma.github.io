<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Ä–æ–≤–æ–µ –í—Ä–µ–º—è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Oswald:wght@500&display=swap" rel="stylesheet">
    
    <style>
        /* --- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å—Ç–∏–ª–∏ --- */
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --primary-color: #ffffff;
            --accent-color: #bb86fc;
            --secondary-text: #a0a0a0;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        body.light-mode {
            --bg-color: #87CEEB;
            --card-bg: #ffffff;
            --text-color: #1c1e21;
            --primary-color: #1c1e21;
            --accent-color: #6200ee;
            --secondary-text: #606770;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            
            /* --- –ó–∞–ø—Ä–µ—Ç –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ --- */
            -webkit-user-select: none;  /* Safari */
            -moz-user-select: none;     /* Firefox */
            -ms-user-select: none;      /* IE10+/Edge */
            user-select: none;          /* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å */
        }

        html {
            font-size: 16px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.5s ease, color 0.3s ease;
            overflow: hidden;
        }

        /* --- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ–≥–æ–¥–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ --- */
        .weather-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* --- –≠—Ñ—Ñ–µ–∫—Ç –î–æ–∂–¥—è (–¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã) --- */
        .rain { position: absolute; width: 100%; height: 100%; }
        .light-mode .rain { display: none; }
        .rain-drop {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3));
            animation: fall linear infinite;
        }
        @keyframes fall { from { transform: translateY(-100vh); } to { transform: translateY(100vh); } }

        /* --- –≠—Ñ—Ñ–µ–∫—Ç –°–æ–ª–Ω—Ü–∞ –∏ –û–±–ª–∞–∫–æ–≤ (–¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã) --- */
        .sun { display: none; position: absolute; top: 15%; right: 15%; width: 80px; height: 80px; background: #FFD700; border-radius: 50%; box-shadow: 0 0 40px #FFD700, 0 0 80px #FFA500; animation: pulse 4s ease-in-out infinite; }
        .light-mode .sun { display: block; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        .cloud { display: none; position: absolute; background: #f2f9fe; border-radius: 100px; opacity: 0.7; }
        .cloud::before, .cloud::after { content: ''; position: absolute; background: #f2f9fe; border-radius: 100px; }
        .light-mode .cloud { display: block; }
        .cloud1 { width: 100px; height: 40px; top: 20%; left: -100px; animation: float 30s infinite linear; }
        .cloud1::before { width: 50px; height: 50px; top: -25px; left: 10px; }
        .cloud1::after { width: 60px; height: 40px; top: -15px; right: 10px; }
        .cloud2 { width: 80px; height: 35px; top: 40%; left: -80px; animation: float 45s infinite linear; animation-delay: -15s; }
        .cloud2::before { width: 40px; height: 40px; top: -20px; left: 15px; }
        .cloud2::after { width: 50px; height: 35px; top: -10px; right: 15px; }
        .cloud3 { width: 120px; height: 45px; top: 60%; left: -120px; animation: float 50s infinite linear; animation-delay: -30s; opacity: 0.5; }
        .cloud3::before { width: 60px; height: 60px; top: -30px; left: 20px; }
        .cloud3::after { width: 70px; height: 45px; top: -20px; right: 20px; }
        @keyframes float { from { transform: translateX(0); } to { transform: translateX(calc(100vw + 200px)); } }

        /* --- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä --- */
        .container { width: 90%; max-width: 400px; padding: 2rem 1rem; text-align: center; z-index: 1; }
        h1 { font-family: 'Oswald', sans-serif; font-size: 2.5rem; font-weight: 500; color: var(--primary-color); margin-bottom: 2rem; letter-spacing: 1px; }

        /* --- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —á–∞—Å–∞–º–∏ --- */
        .clock-card {
            background-color: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.5s ease;
        }
        body.light-mode .clock-card {
            background-color: var(--card-bg);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border: none;
        }
        .clock-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4); }
        .location-name { font-size: 1.1rem; font-weight: 700; color: var(--accent-color); margin-bottom: 0.5rem; }
        .time-display { font-family: 'Oswald', sans-serif; font-size: 3.5rem; font-weight: 500; color: var(--primary-color); line-height: 1; margin: 1rem 0; }
        .date-display { font-size: 0.9rem; color: var(--secondary-text); margin-bottom: 0.5rem; }
        .timezone-info { font-size: 0.8rem; color: var(--secondary-text); font-style: italic; }

        /* --- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã --- */
        .theme-toggle-btn {
            margin-top: 1.5rem;
            background: none;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 50px;
            padding: 0.7rem 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        .theme-toggle-btn:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
            transform: scale(1.05);
        }

        /* --- –£–±–∏—Ä–∞–µ–º —Å–∏–Ω—é—é –ø–æ–¥—Å–≤–µ—Ç–∫—É –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ—é --- */
        .theme-toggle-btn:focus,
        .theme-toggle-btn:active {
            outline: none;
            box-shadow: 0 0 0 3px rgba(187, 134, 252, 0.5);
        }
    </style>
</head>
<body>

    <!-- –§–æ–Ω —Å –ø–æ–≥–æ–¥–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ -->
    <div class="weather-bg">
        <div class="rain">
            <div class="rain-drop" style="left: 10%; animation-duration: 1s;"></div>
            <div class="rain-drop" style="left: 20%; animation-duration: 1.2s; animation-delay: 0.2s;"></div>
            <div class="rain-drop" style="left: 35%; animation-duration: 0.8s; animation-delay: 0.5s;"></div>
            <div class="rain-drop" style="left: 50%; animation-duration: 1.1s; animation-delay: 0.1s;"></div>
            <div class="rain-drop" style="left: 65%; animation-duration: 0.9s; animation-delay: 0.7s;"></div>
            <div class="rain-drop" style="left: 80%; animation-duration: 1.3s; animation-delay: 0.3s;"></div>
            <div class="rain-drop" style="left: 90%; animation-duration: 1s; animation-delay: 0.6s;"></div>
            <div class="rain-drop" style="left: 15%; animation-duration: 1.4s; animation-delay: 0.8s;"></div>
            <div class="rain-drop" style="left: 45%; animation-duration: 0.7s; animation-delay: 0.4s;"></div>
            <div class="rain-drop" style="left: 75%; animation-duration: 1.1s; animation-delay: 0.9s;"></div>
        </div>
        <div class="sun"></div>
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
        <div class="cloud cloud3"></div>
    </div>

    <main class="container">
        <header>
            <h1>–ú–∏—Ä–æ–≤–æ–µ –í—Ä–µ–º—è</h1>
        </header>

        <section class="clock-card" id="king-clock">
            <div class="location-name">–£ –ö–æ—Ä–æ–ª—è –∏ –¢–∞–±—É—Ä–µ—Ç–∫–∏</div>
            <div class="time-display" id="time-king">--:--:--</div>
            <div class="date-display" id="date-king">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div class="timezone-info">UTC+03:00</div>
        </section>

        <section class="clock-card" id="emma-clock">
            <!-- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω –≥–æ—Ä–æ–¥ –Ø–∫—É—Ç—Å–∫ -->
            <div class="location-name">–£ –≠–º–º—ã<br>–Ø–∫—É—Ç—Å–∫</div>
            <div class="time-display" id="time-emma">--:--:--</div>
            <div class="date-display" id="date-emma">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div class="timezone-info">UTC+09:00</div>
        </section>

        <button id="theme-toggle" class="theme-toggle-btn">üåô</button>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- –û—Ç–∫–ª—é—á–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫) ---
            document.addEventListener('contextmenu', event => event.preventDefault());

            // --- –≠–ª–µ–º–µ–Ω—Ç—ã DOM ---
            const timeKingElement = document.getElementById('time-king');
            const dateKingElement = document.getElementById('date-king');
            const timeEmmaElement = document.getElementById('time-emma');
            const dateEmmaElement = document.getElementById('date-emma');
            const themeToggleButton = document.getElementById('theme-toggle');
            const body = document.body;

            // --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ ---
            const kingTimezone = 'Europe/Moscow';
            // –ò–ó–ú–ï–ù–ï–ù–ò–ï: –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –≠–º–º—ã —Ç–µ–ø–µ—Ä—å –Ø–∫—É—Ç—Å–∫
            const emmaTimezone = 'Asia/Yakutsk';

            // --- –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã ---
            const updateClock = (timeElement, dateElement, timezone) => {
                const now = new Date();
                const timeOptions = { timeZone: timezone, hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
                const dateOptions = { timeZone: timezone, weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                
                timeElement.textContent = new Intl.DateTimeFormat('ru-RU', timeOptions).format(now);
                dateElement.textContent = new Intl.DateTimeFormat('ru-RU', dateOptions).format(now);
            };

            // --- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —á–∞—Å–æ–≤ ---
            const updateAllClocks = () => {
                updateClock(timeKingElement, dateKingElement, kingTimezone);
                updateClock(timeEmmaElement, dateEmmaElement, emmaTimezone);
            };

            // --- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã ---
            const toggleTheme = () => {
                body.classList.toggle('light-mode');
                const isLightMode = body.classList.contains('light-mode');
                themeToggleButton.textContent = isLightMode ? '‚òÄÔ∏è' : 'üåô';
                localStorage.setItem('theme', isLightMode ? 'light' : 'dark');
            };

            // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ---
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                body.classList.add('light-mode');
                themeToggleButton.textContent = '‚òÄÔ∏è';
            }

            themeToggleButton.addEventListener('click', toggleTheme);
            updateAllClocks();
            setInterval(updateAllClocks, 1000);

        });
    </script>
</body>
</html>
